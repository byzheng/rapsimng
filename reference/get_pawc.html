<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Estimate Plant Available Water Capacity (PAWC) from an apsimx file — get_pawc • rapsimng</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Estimate Plant Available Water Capacity (PAWC) from an apsimx file — get_pawc"><meta name="description" content="This function calculates the Plant Available Water Capacity (PAWC) from soil
properties in an APSIM Next Generation (.apsimx) file. PAWC represents the
amount of water that can be stored in the soil and is available for plant uptake."><meta property="og:description" content="This function calculates the Plant Available Water Capacity (PAWC) from soil
properties in an APSIM Next Generation (.apsimx) file. PAWC represents the
amount of water that can be stored in the soil and is available for plant uptake."><!-- Google tag (gtag.js) --><script async src="https://www.googletagmanager.com/gtag/js?id=G-4HPNYGL5FT"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-4HPNYGL5FT');
</script></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">rapsimng</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.4.5</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/modify.html">Modify apsimx file</a></li>
    <li><a class="dropdown-item" href="../articles/sensitivity.html">Generate apsimx file for sensitivity analysis</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/byzheng/rapsimng/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Estimate Plant Available Water Capacity (PAWC) from an apsimx file</h1>
      <small class="dont-index">Source: <a href="https://github.com/byzheng/rapsimng/blob/master/R/soil.R" class="external-link"><code>R/soil.R</code></a></small>
      <div class="d-none name"><code>get_pawc.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This function calculates the Plant Available Water Capacity (PAWC) from soil
properties in an APSIM Next Generation (.apsimx) file. PAWC represents the
amount of water that can be stored in the soil and is available for plant uptake.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">get_pawc</span><span class="op">(</span><span class="va">l</span>, soil_path <span class="op">=</span> <span class="cn">NULL</span>, crop <span class="op">=</span> <span class="cn">NULL</span>, depth <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-l">l<a class="anchor" aria-label="anchor" href="#arg-l"></a></dt>
<dd><p>The list of apsimx file</p></dd>


<dt id="arg-soil-path">soil_path<a class="anchor" aria-label="anchor" href="#arg-soil-path"></a></dt>
<dd><p>The path to the soil model. If NULL (default), searches for the
first Soil model. Can be a character string specifying the soil name.</p></dd>


<dt id="arg-crop">crop<a class="anchor" aria-label="anchor" href="#arg-crop"></a></dt>
<dd><p>The crop name for crop-specific lower limit (LL).
If NULL (default), uses LL15 and does not apply XF. If provided, uses the
crop-specific LL and XF values from the SoilCrop parameters.</p></dd>


<dt id="arg-depth">depth<a class="anchor" aria-label="anchor" href="#arg-depth"></a></dt>
<dd><p>The depth (in mm) to which PAWC should be calculated.
If NULL (default), calculates for all layers. If specified, applies proportional
weighting to layers that are partially or completely beyond this depth.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A numeric value of PAWC in mm</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>PAWC represents the soil's water storage capacity between field capacity (DUL) and
the permanent wilting point (LL). It is a critical parameter for:</p>
<p>PAWC is calculated for each soil layer using the formula:</p>
<p>**When crop = NULL and depth = NULL:**
$$PAWC_i = (DUL_i - LL15_i) \times Thickness_i$$</p>
<p>**When crop is specified:**
$$PAWC_i = (DUL_i - LL_i) \times Thickness_i \times XF_i$$</p>
<p>**When depth is specified (with or without crop):**
$$PAWC_i = (DUL_i - LL_i) \times Thickness_i \times [XF_i] \times Weight_i$$</p>
<p>Where:</p><ul><li><p><strong>DUL</strong> (Drained Upper Limit): The volumetric water content (mm/mm)
        after the soil has drained under gravity, typically 2-3 days after saturation</p></li>
<li><p><strong>LL</strong> (Lower Limit): The volumetric water content (mm/mm) below which
        plants cannot extract water. This can be either:</p><ul><li><p><strong>LL15</strong>: Generic lower limit at 15 bar suction (used when crop = NULL)</p></li>
<li><p><strong>Crop-specific LL</strong>: Lower limit specific to a crop type,
                accounting for different rooting characteristics</p></li>
</ul></li>
<li><p><strong>Thickness</strong>: Layer thickness in millimeters</p></li>
<li><p><strong>XF</strong>: Exploration factor (0-1), representing the fraction of a layer
        explored by roots. Only applied when crop is specified; represents the
        proportion of the layer volume that roots can explore</p></li>
<li><p><strong>Weight</strong>: Depth weighting factor (0-1), only applied when depth is specified:</p><ul><li><p>1.0 for layers completely within the specified depth</p></li>
<li><p>Proportional fraction for layers partially within the depth</p></li>
<li><p>0.0 for layers completely beyond the specified depth</p></li>
</ul></li>
</ul><p>The total PAWC is the sum across all layers:
$$PAWC_{total} = \sum_{i=1}^{n} PAWC_i$$</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="va">wheat</span> <span class="op">&lt;-</span> <span class="fu"><a href="read_apsimx.html">read_apsimx</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata/wheat.apsimx"</span>, package <span class="op">=</span> <span class="st">"rapsimng"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Get total PAWC using LL15 (generic)</span></span></span>
<span class="r-in"><span><span class="va">pawc</span> <span class="op">&lt;-</span> <span class="fu">get_pawc</span><span class="op">(</span><span class="va">wheat</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">pawc</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 361.23</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Get PAWC for wheat crop (uses crop-specific LL and XF)</span></span></span>
<span class="r-in"><span><span class="va">pawc_wheat</span> <span class="op">&lt;-</span> <span class="fu">get_pawc</span><span class="op">(</span><span class="va">wheat</span>, crop <span class="op">=</span> <span class="st">"Wheat"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">pawc_wheat</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 246.015</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Get PAWC to 1200 mm depth</span></span></span>
<span class="r-in"><span><span class="va">pawc_1200</span> <span class="op">&lt;-</span> <span class="fu">get_pawc</span><span class="op">(</span><span class="va">wheat</span>, depth <span class="op">=</span> <span class="fl">1200</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">pawc_1200</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 256.41</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Get wheat PAWC to 1500 mm depth</span></span></span>
<span class="r-in"><span><span class="va">pawc_wheat_1500</span> <span class="op">&lt;-</span> <span class="fu">get_pawc</span><span class="op">(</span><span class="va">wheat</span>, crop <span class="op">=</span> <span class="st">"Wheat"</span>, depth <span class="op">=</span> <span class="fl">1500</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">pawc_wheat_1500</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 244.125</span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Bangyou Zheng.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer></div>





  </body></html>

